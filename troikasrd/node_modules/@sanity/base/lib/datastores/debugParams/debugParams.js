"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.debugRolesParam$ = exports.debugParams$ = void 0;

var _rxjs = require("rxjs");

var _operators = require("rxjs/operators");

var DEBUG_PREFIX = '_debug_';
var debugParams$ = (0, _rxjs.concat)((0, _rxjs.of)(0), (0, _rxjs.fromEvent)(window, 'hashchange')).pipe((0, _operators.map)(() => typeof document === 'undefined' ? '#' : document.location.hash), (0, _operators.distinctUntilChanged)(), (0, _operators.map)(hash => hash.substring(1).split(';').filter(p => p.toLowerCase().startsWith(DEBUG_PREFIX)).map(param => param.substring(DEBUG_PREFIX.length))));
exports.debugParams$ = debugParams$;
var debugRolesParam$ = debugParams$.pipe((0, _operators.map)(args => args.find(arg => arg.startsWith('roles='))), (0, _operators.map)(arg => (arg === null || arg === void 0 ? void 0 : arg.split('roles=')[1].split(',').map(r => r.trim())) || []));
exports.debugRolesParam$ = debugRolesParam$;