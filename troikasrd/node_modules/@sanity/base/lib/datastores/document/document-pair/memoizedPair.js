"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.memoizedPair = void 0;

var _rxjs = require("rxjs");

var _createMemoizer = require("../utils/createMemoizer");

var _checkoutPair = require("./checkoutPair");

var _operators = require("rxjs/operators");

var memoizedPair = (0, _createMemoizer.memoize)(idPair => {
  return new _rxjs.Observable(subscriber => {
    subscriber.next((0, _checkoutPair.checkoutPair)(idPair));
  }).pipe((0, _operators.publishReplay)(1), (0, _operators.refCount)());
}, idPair => idPair.publishedId);
exports.memoizedPair = memoizedPair;