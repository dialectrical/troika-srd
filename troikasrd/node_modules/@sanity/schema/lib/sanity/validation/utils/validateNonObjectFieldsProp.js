"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.validateNonObjectFieldsProp = validateNonObjectFieldsProp;

var _createValidationResult = require("../createValidationResult");

function validateNonObjectFieldsProp(typeDef, visitorContext) {
  if (!typeDef.fields) {
    return [];
  }

  var type = typeDef;

  while (!type.jsonType && type) {
    type = visitorContext.getType(type.type);
  }

  if (type && type.jsonType !== 'object') {
    return [(0, _createValidationResult.error)("Type has propery \"fields\", but is not an object/document type.")];
  }

  return [];
}