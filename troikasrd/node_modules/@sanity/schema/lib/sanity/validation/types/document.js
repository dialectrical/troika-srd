"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _isPlainObject2 = _interopRequireDefault(require("lodash/isPlainObject"));

var _createValidationResult = require("../createValidationResult");

var _object = _interopRequireDefault(require("./object"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = (typeDefinition, visitorContext) => {
  var typeDef = (0, _object.default)(typeDefinition, visitorContext);
  var initialValue = typeDef.initialValue,
      initialValues = typeDef.initialValues;
  var hasInitialValue = typeof initialValue !== 'undefined';

  if (hasInitialValue && !(0, _isPlainObject2.default)(initialValue) && typeof initialValue !== 'function') {
    typeDef._problems.push((0, _createValidationResult.error)("The \"initialValue\" property must be either a plain object or a function"));
  }

  if (typeof initialValues !== 'undefined') {
    typeDef._problems.push((0, _createValidationResult.error)("Found property \"initialValues\" - did you mean \"initialValue\"?"));
  }

  return typeDef;
};

exports.default = _default;