"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.calculatePanesEquality = void 0;

var _isEqual2 = _interopRequireDefault(require("lodash/isEqual"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// eslint-disable-next-line import/prefer-default-export
var calculatePanesEquality = function calculatePanesEquality() {
  var prev = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var next = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];

  if (prev === next) {
    return {
      ids: true,
      params: true
    };
  }

  if (prev.length !== next.length) {
    return {
      ids: false,
      params: false
    };
  }

  var paramsDiffer = false;
  var idsEqual = prev.every((prevGroup, index) => {
    var nextGroup = next[index];

    if (prevGroup.length !== nextGroup.length) {
      return false;
    }

    return prevGroup.every((prevPane, paneIndex) => {
      var nextPane = nextGroup[paneIndex];
      paramsDiffer = paramsDiffer || !(0, _isEqual2.default)(nextPane.params, prevPane.params) || !(0, _isEqual2.default)(nextPane.payload, prevPane.payload);
      return nextPane.id === prevPane.id;
    });
  });
  return {
    ids: idsEqual,
    params: !paramsDiffer
  };
};

exports.calculatePanesEquality = calculatePanesEquality;