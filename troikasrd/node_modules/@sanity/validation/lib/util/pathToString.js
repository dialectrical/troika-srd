"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = pathToString;

var _types = require("@sanity/types");

function pathToString() {
  var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  return path.reduce((target, segment, i) => {
    var segmentType = typeof segment;

    if (segmentType === 'number') {
      return "".concat(target, "[").concat(segment, "]");
    }

    if (segmentType === 'string') {
      var separator = i === 0 ? '' : '.';
      return "".concat(target).concat(separator).concat(segment);
    }

    if ((0, _types.isKeyedObject)(segment)) {
      return "".concat(target, "[_key==\"").concat(segment._key, "\"]");
    }

    throw new Error("Unsupported path segment \"".concat(segment, "\""));
  }, '');
}