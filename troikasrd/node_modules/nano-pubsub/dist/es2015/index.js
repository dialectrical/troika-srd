export default function createPubSub() {
    const subscribers = [];
    function subscribe(subscriber) {
        const idx = subscribers.push(subscriber) - 1;
        return function unsubscribe() {
            subscribers.splice(idx, 1);
        };
    }
    function publish(event) {
        subscribers.forEach((subscriber) => subscriber(event));
    }
    return {
        publish,
        subscribe,
    };
}
