export function createResolver(selector = (...args) => args) {
    let counter = 0;
    const map = new WeakMap();
    return (...args) => selector(...args).map(arg => {
        if (arg && /^(function|object)$/.test(typeof arg)) {
            let key = map.get(arg);
            if (!key) {
                key = `@${++counter}`;
                map.set(arg, key);
            }
            return key;
        }
        return JSON.stringify(arg);
    }).join(",");
}
