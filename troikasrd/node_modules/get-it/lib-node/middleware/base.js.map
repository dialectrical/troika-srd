{"version":3,"sources":["../../src/middleware/base.js"],"names":["objectAssign","require","leadingSlash","trailingSlash","module","exports","baseUrl","baseUri","replace","processOptions","options","test","url","join"],"mappings":";;AAAA,MAAMA,eAAeC,QAAQ,eAAR,CAArB;;AAEA,MAAMC,eAAe,KAArB;AACA,MAAMC,gBAAgB,KAAtB;;AAEAC,OAAOC,OAAP,GAAiBC,WAAW;AAC1B,QAAMC,UAAUD,QAAQE,OAAR,CAAgBL,aAAhB,EAA+B,EAA/B,CAAhB;AACA,SAAO;AACLM,oBAAgBC,WAAW;AACzB,UAAI,gBAAgBC,IAAhB,CAAqBD,QAAQE,GAA7B,CAAJ,EAAuC;AACrC,eAAOF,OAAP,CADqC,CACtB;AAChB;;AAED,YAAME,MAAM,CAACL,OAAD,EAAUG,QAAQE,GAAR,CAAYJ,OAAZ,CAAoBN,YAApB,EAAkC,EAAlC,CAAV,EAAiDW,IAAjD,CAAsD,GAAtD,CAAZ;AACA,aAAOb,aAAa,EAAb,EAAiBU,OAAjB,EAA0B,EAACE,GAAD,EAA1B,CAAP;AACD;AARI,GAAP;AAUD,CAZD","file":"base.js","sourcesContent":["const objectAssign = require('object-assign')\n\nconst leadingSlash = /^\\//\nconst trailingSlash = /\\/$/\n\nmodule.exports = baseUrl => {\n  const baseUri = baseUrl.replace(trailingSlash, '')\n  return {\n    processOptions: options => {\n      if (/^https?:\\/\\//i.test(options.url)) {\n        return options // Already prefixed\n      }\n\n      const url = [baseUri, options.url.replace(leadingSlash, '')].join('/')\n      return objectAssign({}, options, {url})\n    }\n  }\n}\n"]}