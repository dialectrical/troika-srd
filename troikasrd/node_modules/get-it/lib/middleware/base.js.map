{"version":3,"sources":["../../src/middleware/base.js"],"names":["objectAssign","require","leadingSlash","trailingSlash","module","exports","baseUri","baseUrl","replace","processOptions","test","options","url","join"],"mappings":";;AAAA,IAAMA,eAAeC,QAAQ,eAAR,CAArB;;AAEA,IAAMC,eAAe,KAArB;AACA,IAAMC,gBAAgB,KAAtB;;AAEAC,OAAOC,OAAP,GAAiB,mBAAW;AAC1B,MAAMC,UAAUC,QAAQC,OAAR,CAAgBL,aAAhB,EAA+B,EAA/B,CAAhB;AACA,SAAO;AACLM,oBAAgB,iCAAW;AACzB,UAAI,gBAAgBC,IAAhB,CAAqBC,QAAQC,GAA7B,CAAJ,EAAuC;AACrC,eAAOD,OAAP,CADqC,CACtB;AAChB;;AAED,UAAMC,MAAM,CAACN,OAAD,EAAUK,QAAQC,GAAR,CAAYJ,OAAZ,CAAoBN,YAApB,EAAkC,EAAlC,CAAV,EAAiDW,IAAjD,CAAsD,GAAtD,CAAZ;AACA,aAAOb,aAAa,EAAb,EAAiBW,OAAjB,EAA0B,EAACC,QAAD,EAA1B,CAAP;AACD;AARI,GAAP;AAUD,CAZD","file":"base.js","sourcesContent":["const objectAssign = require('object-assign')\n\nconst leadingSlash = /^\\//\nconst trailingSlash = /\\/$/\n\nmodule.exports = baseUrl => {\n  const baseUri = baseUrl.replace(trailingSlash, '')\n  return {\n    processOptions: options => {\n      if (/^https?:\\/\\//i.test(options.url)) {\n        return options // Already prefixed\n      }\n\n      const url = [baseUri, options.url.replace(leadingSlash, '')].join('/')\n      return objectAssign({}, options, {url})\n    }\n  }\n}\n"]}